[{"/Users/dvasin/dev/berezka-web/src/components/Application.js":"1","/Users/dvasin/dev/berezka-web/src/components/HeaderAccountBalance.js":"2","/Users/dvasin/dev/berezka-web/src/components/PrivacyPolicy.js":"3","/Users/dvasin/dev/berezka-web/src/components/AssetTable.js":"4","/Users/dvasin/dev/berezka-web/src/components/TokenRequestController.js":"5","/Users/dvasin/dev/berezka-web/src/components/TokenDashboardNavigation.js":"6","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenAmount.js":"7","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenTableInfoRow.js":"8","/Users/dvasin/dev/berezka-web/src/components/widgets/computeCost.js":"9","/Users/dvasin/dev/berezka-web/src/components/CookiePolicy.js":"10","/Users/dvasin/dev/berezka-web/src/components/Account.js":"11","/Users/dvasin/dev/berezka-web/src/App.js":"12","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenTableValueOutput.js":"13","/Users/dvasin/dev/berezka-web/src/components/data/tokens.js":"14","/Users/dvasin/dev/berezka-web/src/components/AssetTableRow.js":"15","/Users/dvasin/dev/berezka-web/src/components/Main.js":"16","/Users/dvasin/dev/berezka-web/src/components/HeaderBalance.js":"17","/Users/dvasin/dev/berezka-web/src/components/widgets/TotalPrice.js":"18","/Users/dvasin/dev/berezka-web/src/components/Footer.js":"19","/Users/dvasin/dev/berezka-web/src/components/TokenRequestStandalone.js":"20","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenPriceGraph.js":"21","/Users/dvasin/dev/berezka-web/src/components/AssetTableHeader.js":"22","/Users/dvasin/dev/berezka-web/src/components/widgets/ERC20Provider.js":"23","/Users/dvasin/dev/berezka-web/src/components/TokenRequestEmbedded.js":"24","/Users/dvasin/dev/berezka-web/src/components/Header.js":"25","/Users/dvasin/dev/berezka-web/src/components/TokenRequest.js":"26","/Users/dvasin/dev/berezka-web/src/components/widgets/PortfolioPartsGraph.js":"27","/Users/dvasin/dev/berezka-web/src/reportWebVitals.js":"28","/Users/dvasin/dev/berezka-web/src/components/AuditAbout.js":"29","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenTableInfo.js":"30","/Users/dvasin/dev/berezka-web/src/components/widgets/round.js":"31","/Users/dvasin/dev/berezka-web/src/components/widgets/merger.js":"32","/Users/dvasin/dev/berezka-web/src/components/widgets/fetchCommon.js":"33","/Users/dvasin/dev/berezka-web/src/components/AssetTableRowDropdown.js":"34","/Users/dvasin/dev/berezka-web/src/components/widgets/legacy/APYLegacy.js":"35","/Users/dvasin/dev/berezka-web/src/components/widgets/legacy/TokenPriceLegacy.js":"36","/Users/dvasin/dev/berezka-web/src/index.js":"37","/Users/dvasin/dev/berezka-web/src/components/Brands.js":"38","/Users/dvasin/dev/berezka-web/src/components/Select.js":"39","/Users/dvasin/dev/berezka-web/src/components/widgets/AccountPortfolioProvider.js":"40","/Users/dvasin/dev/berezka-web/src/components/data/descriptions.js":"41","/Users/dvasin/dev/berezka-web/src/components/Sidebar.js":"42","/Users/dvasin/dev/berezka-web/src/components/SidebarActivation.js":"43","/Users/dvasin/dev/berezka-web/src/components/TokenDashboard.js":"44","/Users/dvasin/dev/berezka-web/src/components/Title.js":"45","/Users/dvasin/dev/berezka-web/src/components/widgets/PortfolioParts.js":"46","/Users/dvasin/dev/berezka-web/src/components/Index.js":"47","/Users/dvasin/dev/berezka-web/src/components/data/admin.js":"48","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenAmountGraph.js":"49","/Users/dvasin/dev/berezka-web/src/components/Dashboard.js":"50","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenPrice.js":"51","/Users/dvasin/dev/berezka-web/src/components/widgets/APY.js":"52","/Users/dvasin/dev/berezka-web/src/components/HeaderTokenBalance.js":"53","/Users/dvasin/dev/berezka-web/src/components/Audit.js":"54","/Users/dvasin/dev/berezka-web/src/components/widgets/colors.js":"55","/Users/dvasin/dev/berezka-web/src/components/graphClient.js":"56","/Users/dvasin/dev/berezka-web/src/components/HowItWorks.js":"57","/Users/dvasin/dev/berezka-web/src/components/widgets/format.js":"58"},{"size":1207,"mtime":1608746711582,"results":"59","hashOfConfig":"60"},{"size":380,"mtime":1609237017212,"results":"61","hashOfConfig":"60"},{"size":16461,"mtime":1609330416347,"results":"62","hashOfConfig":"60"},{"size":1366,"mtime":1609344787532,"results":"63","hashOfConfig":"60"},{"size":5705,"mtime":1609183578388,"results":"64","hashOfConfig":"60"},{"size":803,"mtime":1609240720291,"results":"65","hashOfConfig":"60"},{"size":770,"mtime":1608746711594,"results":"66","hashOfConfig":"60"},{"size":5530,"mtime":1609409285948,"results":"67","hashOfConfig":"60"},{"size":1467,"mtime":1608746711590,"results":"68","hashOfConfig":"60"},{"size":8937,"mtime":1609330405571,"results":"69","hashOfConfig":"60"},{"size":1016,"mtime":1609409172889,"results":"70","hashOfConfig":"60"},{"size":119,"mtime":1608746711631,"results":"71","hashOfConfig":"60"},{"size":265,"mtime":1609239460536,"results":"72","hashOfConfig":"60"},{"size":2841,"mtime":1609344787631,"results":"73","hashOfConfig":"60"},{"size":2164,"mtime":1609344787569,"results":"74","hashOfConfig":"60"},{"size":2605,"mtime":1609330311729,"results":"75","hashOfConfig":"60"},{"size":497,"mtime":1609344787599,"results":"76","hashOfConfig":"60"},{"size":1776,"mtime":1609352091052,"results":"77","hashOfConfig":"60"},{"size":1113,"mtime":1609409364513,"results":"78","hashOfConfig":"60"},{"size":2790,"mtime":1608746711581,"results":"79","hashOfConfig":"60"},{"size":4769,"mtime":1609344787705,"results":"80","hashOfConfig":"60"},{"size":470,"mtime":1609230881381,"results":"81","hashOfConfig":"60"},{"size":1330,"mtime":1608746711592,"results":"82","hashOfConfig":"60"},{"size":2667,"mtime":1609363375793,"results":"83","hashOfConfig":"60"},{"size":1816,"mtime":1609362865512,"results":"84","hashOfConfig":"60"},{"size":1312,"mtime":1608746711580,"results":"85","hashOfConfig":"60"},{"size":7304,"mtime":1609229751465,"results":"86","hashOfConfig":"60"},{"size":364,"mtime":1608746711474,"results":"87","hashOfConfig":"60"},{"size":1905,"mtime":1609230881386,"results":"88","hashOfConfig":"60"},{"size":3967,"mtime":1609409145713,"results":"89","hashOfConfig":"60"},{"size":127,"mtime":1608746711597,"results":"90","hashOfConfig":"60"},{"size":1715,"mtime":1608746711596,"results":"91","hashOfConfig":"60"},{"size":1093,"mtime":1609344787753,"results":"92","hashOfConfig":"60"},{"size":1265,"mtime":1609347140337,"results":"93","hashOfConfig":"60"},{"size":657,"mtime":1609344787763,"results":"94","hashOfConfig":"60"},{"size":965,"mtime":1609342960194,"results":"95","hashOfConfig":"60"},{"size":530,"mtime":1608746711475,"results":"96","hashOfConfig":"60"},{"size":2193,"mtime":1609176305770,"results":"97","hashOfConfig":"60"},{"size":1326,"mtime":1608746711573,"results":"98","hashOfConfig":"60"},{"size":4225,"mtime":1609326336205,"results":"99","hashOfConfig":"60"},{"size":4535,"mtime":1609409087000,"results":"100","hashOfConfig":"60"},{"size":1040,"mtime":1609237015471,"results":"101","hashOfConfig":"60"},{"size":280,"mtime":1608746711569,"results":"102","hashOfConfig":"60"},{"size":4688,"mtime":1608920028334,"results":"103","hashOfConfig":"60"},{"size":347,"mtime":1609178425786,"results":"104","hashOfConfig":"60"},{"size":5073,"mtime":1608746711595,"results":"105","hashOfConfig":"60"},{"size":510,"mtime":1609342874604,"results":"106","hashOfConfig":"60"},{"size":315,"mtime":1608920028343,"results":"107","hashOfConfig":"60"},{"size":3566,"mtime":1609237451078,"results":"108","hashOfConfig":"60"},{"size":990,"mtime":1609229751462,"results":"109","hashOfConfig":"60"},{"size":1063,"mtime":1609340604335,"results":"110","hashOfConfig":"60"},{"size":1175,"mtime":1609340593366,"results":"111","hashOfConfig":"60"},{"size":514,"mtime":1609237366971,"results":"112","hashOfConfig":"60"},{"size":290,"mtime":1609230881385,"results":"113","hashOfConfig":"60"},{"size":157,"mtime":1608746711596,"results":"114","hashOfConfig":"60"},{"size":634,"mtime":1608746711574,"results":"115","hashOfConfig":"60"},{"size":2578,"mtime":1609230881388,"results":"116","hashOfConfig":"60"},{"size":352,"mtime":1609409253303,"results":"117","hashOfConfig":"60"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"121"},"12alutg",{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"127"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"134"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"157"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"168"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"168"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"175","usedDeprecatedRules":"168"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184","usedDeprecatedRules":"127"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"187"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"190","usedDeprecatedRules":"168"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"168"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"205","messages":"206","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"209","usedDeprecatedRules":"124"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"212","usedDeprecatedRules":"213"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"216","usedDeprecatedRules":"217"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"220","messages":"221","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"224","messages":"225","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"226","usedDeprecatedRules":"168"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"231","messages":"232","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"157"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"239","messages":"240","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"241","messages":"242","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"243","messages":"244","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"245","messages":"246","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"247","messages":"248","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"249","messages":"250","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"251","messages":"252","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"253","messages":"254","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/dvasin/dev/berezka-web/src/components/Application.js",["255"],"import React, { useState, useEffect, useCallback } from \"react\";\nimport Main from \"./Main\";\nimport Web3 from \"web3\";\nimport Web3Modal from \"web3modal\";\n\nconst providerOptions = {\n  /* See Provider Options Section */\n};\n\nconst web3Modal = new Web3Modal({\n  network: \"mainnet\",\n  cacheProvider: true,\n  providerOptions,\n});\n\nconst Application = () => {\n  const [web3Local, setWeb3Local] = useState(null);\n  const [web3Global, setweb3Global] = useState(null);\n  const [address, setAddress] = useState(null);\n  const connectWeb3 = useCallback(async () => {\n    const provider = await web3Modal.connect();\n    const web3 = new Web3(provider);\n    const address = await web3.currentProvider.enable();\n    setWeb3Local(web3);\n    setAddress(address[0]);\n    return [web3, address[0]];\n  });\n  useEffect(() => {\n    const web3 = new Web3(\n      new Web3.providers.HttpProvider(\n        \"https://eth-mainnet.alchemyapi.io/v2/-r5u2mpuXHKVbfRG5fRAEMmMS9Ix4eHF\"\n      )\n    );\n    setweb3Global(web3);\n  }, []);\n\n  return (\n    <>\n      <Main\n        address={address}\n        web3Local={web3Local}\n        web3Global={web3Global}\n        connectWeb3={connectWeb3}\n      />\n    </>\n  );\n};\n\nexport default Application;\n",["256","257"],"/Users/dvasin/dev/berezka-web/src/components/HeaderAccountBalance.js",[],["258","259"],"/Users/dvasin/dev/berezka-web/src/components/PrivacyPolicy.js",[],["260","261"],"/Users/dvasin/dev/berezka-web/src/components/AssetTable.js",[],["262","263"],"/Users/dvasin/dev/berezka-web/src/components/TokenRequestController.js",["264"],"import React, { useState, useEffect } from \"react\";\nimport { tokenInfo, currencyInfo } from \"./data/tokens\";\nimport { round } from \"./widgets/round\";\nimport { useQuery, gql } from \"@apollo/react-hooks\";\n\nconst GET_LAST_PRICE = `\nquery GetLastHourPrice ($tokenAddress: String){\n    hourHistoricalDatas(\n      orderBy: hourId, \n      orderDirection:desc,\n      where: { token: $tokenAddress }\n    ) {\n      price\n    }\n  }\n`;\n\nconst DAO_ABI = [\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_depositToken\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_depositAmount\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_requestAmount\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string\",\n        name: \"_reference\",\n        type: \"string\",\n      },\n    ],\n    name: \"createTokenRequest\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nconst ERC20_ABI = [\n  {\n    constant: true,\n    inputs: [{ name: \"_owner\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ name: \"balance\", type: \"uint256\" }],\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n    ],\n    name: \"allowance\",\n    outputs: [],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"approve\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nfunction TokenRequestController(props) {\n  const { initialToken, initialCurrency, connectWeb3, Component } = props;\n\n  const [requestedToken, setRequestedToken] = useState(initialToken);\n  const [offeredToken, setOfferedToken] = useState(initialCurrency);\n  const [requestedAmount, setRequestedAmount] = useState(0);\n  const [offeredAmount, setOfferedAmount] = useState(0);\n  const [errorMessage, setErrorMessage] = useState();\n  const { loading, data } = useQuery(gql(GET_LAST_PRICE), {\n    variables: {\n      tokenAddress: tokenInfo[requestedToken].address,\n    },\n  });\n\n  useEffect(() => {\n    if (!loading) {\n      doSetRequestedAmount(requestedAmount);\n    }\n  }, [loading, requestedToken]);\n\n  const canPerformTokenRequest =\n    requestedToken &&\n    requestedAmount > 0 &&\n    offeredToken &&\n    offeredAmount > 0 &&\n    !loading;\n\n  const doSetRequestedAmount = (amount) => {\n    const actualAmount = amount || 0;\n    const price =\n      Number.parseFloat(data.hourHistoricalDatas[0].price) / 10 ** 6;\n    setRequestedAmount(actualAmount);\n    setOfferedAmount(round(actualAmount * price, 2));\n  };\n\n  const doSetOfferedAmount = (amount) => {\n    var actualAmount = amount || 0;\n    const price =\n      Number.parseFloat(data.hourHistoricalDatas[0].price) / 10 ** 6;\n    setOfferedAmount(actualAmount);\n    setRequestedAmount(round(actualAmount / price, 2));\n  };\n\n  const doPerformTokenRequest = async () => {\n    const [web3, address] = await connectWeb3();\n    if (web3 && address && canPerformTokenRequest) {\n      const requestedAmountDecimals = requestedAmount * 10 ** 18;\n      const offeredAmountDecimals =\n        offeredAmount * 10 ** currencyInfo[offeredToken].decimals;\n      const offeredTokenAddress = currencyInfo[offeredToken].address;\n      const daoAddress = tokenInfo[requestedToken].dao;\n\n      // Check eth balance and offered token balance\n      //\n      const ethBalance = await web3.eth.getBalance(address);\n      if (ethBalance <= 0) {\n        setErrorMessage(\"Not enough eth on balance to pay transaction fee\");\n        return;\n      }\n\n      const offeredTokenContract = new web3.eth.Contract(\n        ERC20_ABI,\n        offeredTokenAddress\n      );\n      const balance = await offeredTokenContract.methods\n        .balanceOf(address)\n        .call();\n      const balanceFloat = Number.parseFloat(balance);\n      if (!balanceFloat || balanceFloat < offeredAmountDecimals) {\n        setErrorMessage(\"Not enough tokens on balance\");\n        return;\n      }\n      // Check allowance\n      //\n      const allowance = await offeredTokenContract.methods\n        .allowance(address, daoAddress)\n        .call();\n      const allowanceFloat = Number.parseFloat(allowance);\n      if (!allowanceFloat || allowanceFloat < offeredAmountDecimals) {\n        // Require approval first\n        //\n        await offeredTokenContract.methods\n          .approve(daoAddress, \"\" + offeredAmountDecimals)\n          .send({\n            from: address,\n          });\n      }\n      const daoContract = new web3.eth.Contract(DAO_ABI, daoAddress);\n      await daoContract.methods\n        .createTokenRequest(\n          offeredTokenAddress,\n          \"\" + offeredAmountDecimals,\n          \"\" + requestedAmountDecimals,\n          \"\"\n        )\n        .send({\n          from: address,\n        });\n    }\n  };\n\n  return (\n    <Component\n      setRequestedToken={setRequestedToken}\n      setOfferedToken={setOfferedToken}\n      setRequestedAmount={doSetRequestedAmount}\n      setOfferedAmount={doSetOfferedAmount}\n      offeredToken={offeredToken}\n      requestedAmount={requestedAmount}\n      offeredAmount={offeredAmount}\n      requestedToken={requestedToken}\n      performTokenRequest={doPerformTokenRequest}\n      canPerformTokenRequest={canPerformTokenRequest}\n      errorMessage={errorMessage}\n    />\n  );\n}\n\nexport default TokenRequestController;\n",["265","266"],"/Users/dvasin/dev/berezka-web/src/components/TokenDashboardNavigation.js",[],["267","268"],"/Users/dvasin/dev/berezka-web/src/components/widgets/TokenAmount.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/TokenTableInfoRow.js",["269","270","271"],"/Users/dvasin/dev/berezka-web/src/components/widgets/computeCost.js",[],"/Users/dvasin/dev/berezka-web/src/components/CookiePolicy.js",[],"/Users/dvasin/dev/berezka-web/src/components/Account.js",[],"/Users/dvasin/dev/berezka-web/src/App.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/TokenTableValueOutput.js",[],"/Users/dvasin/dev/berezka-web/src/components/data/tokens.js",[],"/Users/dvasin/dev/berezka-web/src/components/AssetTableRow.js",["272"],"import React, { useRef, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport AssetTableRowDropdown from \"./AssetTableRowDropdown\";\nimport { tokenInfo } from \"./data/tokens\";\nimport APY from \"./widgets/APY\";\nimport APYLegacy from \"./widgets/legacy/APYLegacy\";\nimport TokenPriceLegacy from \"./widgets/legacy/TokenPriceLegacy\";\nimport TokenPrice from \"./widgets/TokenPrice\";\n\nfunction AssetTableRow(props) {\n  const { tokenName, connectWeb3, open, onClick, legacy } = props;\n\n  const { address, tableName } = tokenInfo[tokenName];\n\n  const myRef = useRef(null);\n  const location = useLocation();\n  useEffect(() => {\n    if (\n      myRef &&\n      location.hash &&\n      location.hash.endsWith(\"#flex\") &&\n      tokenName === \"flex\"\n    ) {\n      setTimeout(() => {\n        if (myRef.current) {\n          myRef.current.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"start\",\n            inline: \"center\",\n          });\n        }\n      }, 100);\n    }\n  }, [location, myRef, myRef.current]);\n\n  return (\n    <>\n      <div\n        className={\"main-table__tr activeToggle\" + (open ? \" active\" : \"\")}\n        onClick={onClick}\n      >\n        <div className=\"main-table__td\">\n          <div className=\"main-table__td-row\">\n            <img className=\"main-table__icon\" src=\"img/logo.png\" alt=\"\" />\n            <span>{tableName}</span>\n          </div>\n        </div>\n        <div className=\"main-table__td\">\n          {legacy ? (\n            <TokenPriceLegacy tokenAddress={address} />\n          ) : (\n            <TokenPrice tokenAddress={address} />\n          )}\n        </div>\n        <div className=\"main-table__td\">\n          {legacy ? (\n            <APYLegacy tokenAddress={address} decimals={0} />\n          ) : (\n            <APY tokenAddress={address} decimals={0} />\n          )}\n        </div>\n        <div className=\"main-table__td\">\n          <div className=\"main-table__dropdown-btn\" ref={myRef} />\n        </div>\n      </div>\n      <AssetTableRowDropdown\n        legacy={legacy}\n        connectWeb3={connectWeb3}\n        tokenName={tokenName}\n      />\n    </>\n  );\n}\n\nexport default React.memo(AssetTableRow);\n",["273","274"],"/Users/dvasin/dev/berezka-web/src/components/Main.js",[],"/Users/dvasin/dev/berezka-web/src/components/HeaderBalance.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/TotalPrice.js",["275"],"/Users/dvasin/dev/berezka-web/src/components/Footer.js",[],"/Users/dvasin/dev/berezka-web/src/components/TokenRequestStandalone.js",[],["276","277"],"/Users/dvasin/dev/berezka-web/src/components/widgets/TokenPriceGraph.js",["278"],"/Users/dvasin/dev/berezka-web/src/components/AssetTableHeader.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/ERC20Provider.js",["279"],"import React, { useEffect, useState } from \"react\";\n\nconst ABI = [\n  // balanceOf\n  {\n    constant: true,\n    inputs: [{ name: \"_owner\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ name: \"balance\", type: \"uint256\" }],\n    type: \"function\",\n  },\n  // decimals\n  {\n    constant: true,\n    inputs: [],\n    name: \"decimals\",\n    outputs: [{ name: \"\", type: \"uint8\" }],\n    type: \"function\",\n  },\n];\n\nconst ERC20Provider = (props) => {\n  const {\n    walletAddress,\n    tokenAddress,\n    web3,\n    children,\n    childrenLoading,\n  } = props;\n\n  const [loading, setLoading] = useState(true);\n  const [cachedBalance, setCachedBalance] = useState();\n\n  useEffect(() => {\n    const fn = async () => {\n      if (!walletAddress) {\n        setCachedBalance(0);\n      } else {\n        const contract = new web3.eth.Contract(ABI, tokenAddress);\n        const balance = await contract.methods.balanceOf(walletAddress).call();\n        const decimals = await contract.methods.decimals().call();\n        const balanceFinal = balance ? balance / 10 ** decimals : balance;\n        setCachedBalance(balanceFinal);\n        setLoading(false);\n      }\n    };\n    fn();\n  }, [walletAddress, tokenAddress]);\n\n  if (loading) {\n    return <>{childrenLoading()}</>;\n  }\n  return <>{children(cachedBalance)}</>;\n};\n\nexport default ERC20Provider;\n","/Users/dvasin/dev/berezka-web/src/components/TokenRequestEmbedded.js",["280"],"/Users/dvasin/dev/berezka-web/src/components/Header.js",[],"/Users/dvasin/dev/berezka-web/src/components/TokenRequest.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/PortfolioPartsGraph.js",["281"],"import React, { useEffect, useState } from \"react\";\nimport { round } from \"./round\";\nimport { colorByIndex } from \"./colors\";\nimport Highcharts from \"highcharts/highcharts\";\nimport highchartsMore from \"highcharts/highcharts-more\";\nimport solidGauge from \"highcharts/modules/solid-gauge\";\nimport HighchartsReact from \"highcharts-react-official\";\n\nconst ABI = [\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_registryAddress\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"contract ERC20\",\n        name: \"_fromToken\",\n        type: \"address\",\n      },\n      {\n        internalType: \"contract ERC20\",\n        name: \"_destToken\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getExpectedReturn\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_token\",\n        type: \"address\",\n      },\n    ],\n    name: \"getNonEmptyTokenBalances\",\n    outputs: [\n      {\n        components: [\n          {\n            internalType: \"address\",\n            name: \"token\",\n            type: \"address\",\n          },\n          {\n            internalType: \"int256\",\n            name: \"amount\",\n            type: \"int256\",\n          },\n        ],\n        internalType: \"struct AdaptedBalance[]\",\n        name: \"\",\n        type: \"tuple[]\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_token\",\n        type: \"address\",\n      },\n    ],\n    name: \"getPrice\",\n    outputs: [\n      {\n        internalType: \"int256\",\n        name: \"\",\n        type: \"int256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"int256\",\n        name: \"_amount\",\n        type: \"int256\",\n      },\n      {\n        internalType: \"address\",\n        name: \"_token\",\n        type: \"address\",\n      },\n    ],\n    name: \"getTokenPrice\",\n    outputs: [\n      {\n        internalType: \"int256\",\n        name: \"\",\n        type: \"int256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nconst ABI_TICKER = [\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [{ name: \"\", type: \"string\" }],\n    type: \"function\",\n  },\n];\n\nconst PortfolioPartsGraph = (props) => {\n  const { tokenAddress, web3 } = props;\n\n  const [loading, setLoading] = useState(true);\n  const [partList, setPartList] = useState();\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    const fn = async () => {\n      setLoading(true);\n      if (!web3) {\n        return;\n      }\n      const contract = new web3.eth.Contract(\n        ABI,\n        \"0xB3c57c8C6dc04785E16292D8b91ef827a88A9548\"\n      );\n      const balances = await contract.methods\n        .getNonEmptyTokenBalances(tokenAddress)\n        .call();\n      const priceParts = {};\n      const names = {};\n      for (let balance of balances) {\n        const token = balance[0];\n        const amount = balance[1];\n        console.log(`Token: ${token}`);\n        if (token === \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\") {\n          names[token] = \"Ethereum\";\n        } else {\n          try {\n            const contractTicker = new web3.eth.Contract(ABI_TICKER, token);\n            const name = await contractTicker.methods.name().call();\n            names[token] = name;\n          } catch (e) {\n            console.log(`Error getting name for token: ${token}`);\n            names[token] = token;\n          }\n        }\n        const price = await contract.methods\n          .getTokenPrice(amount, token)\n          .call();\n        if (!priceParts[token]) {\n          priceParts[token] = 0;\n        }\n        priceParts[token] += Number.parseFloat(price);\n      }\n      const priceTotal = Object.values(priceParts).reduce((a, b) => a + b, 0);\n      const pricePercent = [];\n      for (const token of Object.keys(priceParts)) {\n        const pricePercentValue = (priceParts[token] / priceTotal) * 100;\n        if (pricePercentValue > 0.1) {\n          pricePercent.push({\n            token,\n            pricePercentValue,\n            name: names[token],\n          });\n        }\n      }\n      pricePercent.sort((a, b) => b.pricePercentValue - a.pricePercentValue);\n\n      if (!isCancelled) {\n        setLoading(false);\n        setPartList(pricePercent);\n      }\n    };\n    fn();\n\n    return () => {\n      isCancelled = true;\n    };\n  }, [tokenAddress, web3]);\n\n  if (!partList || loading) {\n    return <p>Loading...</p>;\n  }\n\n  const maxRadius = 112;\n  const minRadius = 38;\n  const radiusStep = (maxRadius - minRadius) / partList.length;\n\n  const series = partList.map((item, index) => {\n    const name = item.name;\n    const y = round(item.pricePercentValue, 1);\n    const radius = maxRadius - radiusStep * index;\n    const innerRadius = radius - radiusStep + (index + 1);\n    const color = colorByIndex(index);\n    return {\n      name,\n      data: [\n        {\n          color,\n          radius: radius + \"%\",\n          innerRadius: innerRadius + \"%\",\n          y,\n        },\n      ],\n    };\n  });\n\n  const paneBackgrounds = series.map((item) => {\n    const { radius, innerRadius, color } = item.data[0];\n    const backgroundColor = \"white\";\n    return {\n      backgroundColor,\n      innerRadius,\n      outerRadius: radius,\n      borderWidth: 0,\n    };\n  });\n\n  const config = {\n    exporting: {\n      enabled: false,\n    },\n    chart: {\n      type: \"solidgauge\",\n      height: \"110%\",\n    },\n\n    title: {\n      text: null,\n    },\n\n    tooltip: {\n      borderWidth: 0,\n      backgroundColor: \"none\",\n      shadow: false,\n      style: {\n        fontSize: \"16px\",\n        textAlign: \"center\",\n      },\n      valueSuffix: \"%\",\n      useHTML: true,\n      pointFormatter() {\n        const point = this,\n          { name } = this.series,\n          value = point.y;\n        return `\n                    <div style=\"text-align: center\">\n                        <span>${name}</span>\n                        <br>\n                        <span style=\"font-size:2em; color: ${point.color};\">${value}%</span>\n                    </div>\n                `;\n      },\n      positioner: function (labelWidth) {\n        return {\n          x: (this.chart.chartWidth - labelWidth) / 2,\n          y: this.chart.plotHeight / 2 - 25,\n        };\n      },\n    },\n\n    pane: {\n      startAngle: 360,\n      endAngle: 0,\n      background: paneBackgrounds,\n    },\n\n    yAxis: {\n      min: 0,\n      max: 100,\n      lineWidth: 0,\n      tickPositions: [],\n    },\n\n    plotOptions: {\n      solidgauge: {\n        dataLabels: {\n          enabled: false,\n        },\n        //linecap: 'round',\n        stickyTracking: false,\n        //rounded: true\n      },\n    },\n    series,\n  };\n\n  highchartsMore(Highcharts);\n  solidGauge(Highcharts);\n\n  return (\n    <>\n      <HighchartsReact\n        highcharts={Highcharts}\n        options={config}\n        immutable={true}\n      />\n    </>\n  );\n};\n\nexport default PortfolioPartsGraph;\n","/Users/dvasin/dev/berezka-web/src/reportWebVitals.js",[],["282","283"],"/Users/dvasin/dev/berezka-web/src/components/AuditAbout.js",["284"],"import React from \"react\";\n\nclass AuditAbout extends React.Component {\n  render() {\n    return (\n      <div className=\"section _with-aside _mb\">\n        <div></div>\n        <div className=\"information\">\n          <div className=\"information__item\">\n            <div className=\"information__title\">\n              Berezka DAO is a decentralized autonomous organization based on\n              Aragon.\n            </div>\n            <div className=\"information__title\">\n              Aragon Smart Contract Audits\n            </div>\n            <div className=\"information__text\">\n              A number of audits have been performed on the existing smart\n              contract codebase by the White Hat Group, Consensys Diligence,\n              Authio, and others. Ongoing smart contract changes will continue\n              being audited at the Aragon Association's discretion.\n            </div>\n            <div className=\"information__text\">\n              Details:&nbsp;\n              <a className=\"link-color\" href=\"\">\n                wiki.aragon.org/association/security/\n              </a>\n            </div>\n          </div>\n          <div className=\"information__item\">\n            <div className=\"information__title\">White Hat Group</div>\n            <div className=\"information__title\">Consensys Diligence</div>\n            <div className=\"information__text\">\n              As one of the most experienced teams in the space, ConsenSys\n              Diligence is at the cutting edge of offensive cryptography,\n              blockchain technology, and cryptoeconomic incentive analysis.\n            </div>\n            <div className=\"information__title\">Authio</div>\n            <div className=\"information__text\">\n              Authio is a smart contract auditing and security consulting firm.\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AuditAbout;\n","/Users/dvasin/dev/berezka-web/src/components/widgets/TokenTableInfo.js",["285","286","287"],"/Users/dvasin/dev/berezka-web/src/components/widgets/round.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/merger.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/fetchCommon.js",[],"/Users/dvasin/dev/berezka-web/src/components/AssetTableRowDropdown.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/legacy/APYLegacy.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/legacy/TokenPriceLegacy.js",[],"/Users/dvasin/dev/berezka-web/src/index.js",[],"/Users/dvasin/dev/berezka-web/src/components/Brands.js",["288","289","290","291","292","293","294","295","296","297","298","299"],"import React from \"react\";\n\nclass Brands extends React.Component {\n  render() {\n    return (\n      <section className=\"section _with-aside _mb\">\n        <div className=\"section__aside\">\n          <div className=\"section__header\">\n            <h2 className=\"title\">Don't Trust â€” Verify</h2>\n          </div>\n          <div className=\"section__hint\">\n            We are using these audited protocols\n          </div>\n        </div>\n        <div className=\"brands\">\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand1.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand2.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand3.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand4.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand5.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand6.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand7.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand8.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand9.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand10.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand11.png\" title alt />\n          </div>\n          <div className=\"brands__item\">\n            <img className=\"brands__item-img\" src=\"img/brand12.png\" title alt />\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default Brands;\n","/Users/dvasin/dev/berezka-web/src/components/Select.js",["300","301"],"import React, { useState } from \"react\";\n\nfunction Select(props) {\n  const { value, options, setValue, valueDisplay, valueImage } = props;\n\n  const [selectOpen, setSelectOpen] = useState(false);\n\n  const toggleSelectOpen = () => {\n    setSelectOpen(!selectOpen);\n  };\n\n  const closeAll = () => {\n    setSelectOpen(false);\n  };\n\n  return (\n    <div className={\"select\" + (selectOpen ? \" active\" : \"\")}>\n      <div className=\"select__input-container\" onClick={toggleSelectOpen}>\n        <input\n          className=\"select__input\"\n          type=\"text\"\n          value={value}\n          required\n          readOnly\n        />\n        <div className=\"select__value\">\n          <img src={`/img/${valueImage(value)}.png`} title alt />\n          <span>{valueDisplay(value)}</span>\n        </div>\n      </div>\n      <div className=\"select__options\">\n        {options.map((option) => (\n          <a\n            key={option}\n            className={\"select__option\" + (value === option ? \" _choosed\" : \"\")}\n            onClick={() => {\n              closeAll();\n              setValue(option);\n            }}\n            href\n          >\n            <img src={`/img/${valueImage(option)}.png`} title alt />\n            <span>{valueDisplay(option)}</span>\n          </a>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Select;\n",["302","303"],"/Users/dvasin/dev/berezka-web/src/components/widgets/AccountPortfolioProvider.js",["304","305","306"],"import React, { useState, useEffect } from \"react\";\nimport { apiNameByAddress } from \"../data/tokens\";\nimport { mergeByDayID } from \"./merger\";\nimport { round } from \"./round\";\nimport { useQuery, gql } from \"@apollo/react-hooks\";\nimport { computeDailyPrices } from \"./computeCost\";\n\nconst GET_ACCOUNT_GRAPH = gql`\n  query GetTokenAccountGraphAccountPortfolioProfit(\n    $wallet: String\n    $tokens: [String]\n  ) {\n    historicalBalances(where: { wallet: $wallet, token_in: $tokens }) {\n      id\n      date\n      dayId\n      hourId\n      amount\n      token\n      wallet\n    }\n  }\n`;\n\nconst GET_LAST_PRICE = gql`\n  query GetAccountPortfolioProfit($tokens: [String]) {\n    dayHistoricalDatas(\n      orderBy: dayId\n      orderDirection: desc\n      where: { token_in: $tokens }\n    ) {\n      id\n      date\n      dayId\n      price\n      token\n      totalPrice\n    }\n  }\n`;\n\nconst GET_PURCHASES = gql`\n  query GetAccountPortfolioPurchases($wallet: String, $tokens: [String]) {\n    balanceEvents(\n      where: {\n        counterparty_in: [\n          \"0x0000000000000000000000000000000000000000\"\n          \"0xf8a8d25049ebfaf36cf1dd7ff51ebd0777fc9b32\"\n        ]\n        wallet: $wallet\n        token_in: $tokens\n      }\n    ) {\n      id\n      kind\n      dayId\n      amount\n      token\n      counterparty\n      wallet\n    }\n  }\n`;\n\nconst AccountPortfolioProvider = (props) => {\n  const { tokens, wallet, childrenLoading, children } = props;\n\n  const { loading: loading1, error: e1, data: balances } = useQuery(\n    GET_ACCOUNT_GRAPH,\n    {\n      variables: {\n        tokens,\n        wallet,\n      },\n      skip: !wallet,\n    }\n  );\n\n  const { loading: loading2, error: e2, data: prices } = useQuery(\n    GET_LAST_PRICE,\n    {\n      variables: {\n        tokens,\n      },\n      skip: !wallet,\n    }\n  );\n\n  const { loading: loading3, error: e3, data: purchases } = useQuery(\n    GET_PURCHASES,\n    {\n      variables: {\n        tokens,\n        wallet,\n      },\n      skip: !wallet,\n    }\n  );\n\n  const [historicalData, setHistoricalData] = useState();\n\n  useEffect(() => {\n    const fn = async () => {\n      const all = [];\n      for (const token of tokens) {\n        const apiName = apiNameByAddress(token);\n        if (apiName) {\n          const response = await fetch(\n            `/storage/charts/${apiName}/common.json`\n          ).then((res) => res.json());\n          const adjusted = response.map((data) => {\n            return {\n              date: Math.floor(data[0] / 1000),\n              dayId: Math.floor(data[0] / 1000 / 86400),\n              price: round(data[1] * 10 ** 6, 3),\n              token: token.toLowerCase(),\n              totalPrice: round(\n                Number.parseFloat(data[3]) * 10 ** 6 * 10 ** 18,\n                3\n              ),\n            };\n          });\n\n          adjusted.forEach((a) => {\n            all.push(a);\n          });\n        }\n        setHistoricalData(all);\n      }\n    };\n    fn();\n  }, [tokens]);\n\n  if (\n    loading1 ||\n    loading2 ||\n    loading3 ||\n    !balances ||\n    !prices ||\n    !historicalData ||\n    !purchases\n  ) {\n    return <>{childrenLoading()}</>;\n  }\n\n  const fullData = mergeByDayID(prices.dayHistoricalDatas, historicalData);\n  const computedData = computeDailyPrices(balances, fullData).reverse();\n\n  // index computed data\n  //\n  const dataIndex = {};\n  fullData.forEach((data) => {\n    dataIndex[`${data.dayId}_${data.token.toLowerCase()}`] = data;\n  });\n  // add purchase price\n  //\n  const purchasesWithPrice = purchases.balanceEvents.map((p) => ({\n    ...p,\n    amount: p.kind === 1 ? p.amount : -p.amount,\n    price: dataIndex[`${p.dayId}_${p.token.toLowerCase()}`],\n  }));\n\n  // Compute APY\n  //\n  const last = prices.dayHistoricalDatas[0];\n  const first = prices.dayHistoricalDatas[prices.dayHistoricalDatas.length - 1];\n  const lastPrice2 = last.price;\n  let firstPrice = first.price;\n  const daysBetween = last.dayId - first.dayId;\n  const apy = (((lastPrice2 / firstPrice - 1) * 100) / daysBetween) * 365;\n  const lastPrice = fullData[0].price;\n  return (\n    <>\n      {children({\n        fullData,\n        computedData,\n        purchasesWithPrice,\n        lastPrice,\n        apy,\n      })}\n    </>\n  );\n};\n\nexport default AccountPortfolioProvider;\n",["307","308"],"/Users/dvasin/dev/berezka-web/src/components/data/descriptions.js",[],"/Users/dvasin/dev/berezka-web/src/components/Sidebar.js",[],"/Users/dvasin/dev/berezka-web/src/components/SidebarActivation.js",[],"/Users/dvasin/dev/berezka-web/src/components/TokenDashboard.js",["309","310","311"],"import React from \"react\";\nimport { tokenInfo } from \"./data/tokens\";\nimport { admins } from \"./data/admin\";\n\nimport TokenAmount from \"./widgets/TokenAmount\";\nimport TokenPrice from \"./widgets/TokenPrice\";\nimport APY from \"./widgets/APY\";\nimport TokenPriceGraph from \"./widgets/TokenPriceGraph\";\nimport TokenAmountGraph from \"./widgets/TokenAmountGraph\";\nimport PortfolioPartsGraph from \"./widgets/PortfolioPartsGraph\";\nimport PortfolioParts from \"./widgets/PortfolioParts\";\n\nfunction TokenDashboard(props) {\n  const token = props.match.params.id;\n  const { web3Global, address } = props;\n  const tokenAddress = tokenInfo[token].address;\n  const isAdmin = address && admins.includes(address.toLowerCase());\n\n  return (\n    <div className=\"info-list grid\">\n      <div className=\"info-main grid-col-4 grid-md-12\">\n        <div className=\"info-main__header\">\n          <div className=\"info-main__title\">\n            {tokenInfo[token].tableName} token price, USD\n          </div>\n          <div className=\"info-main__icon\">\n            <i className=\"icon icon-chart\" />\n          </div>\n        </div>\n        <div className=\"info-main__value\">\n          <TokenAmount tokenAddress={tokenAddress} />\n        </div>\n      </div>\n      <div className=\"info-main grid-col-4 grid-md-12\">\n        <div className=\"info-main__header\">\n          <div className=\"info-main__title\">Portfolio, USD</div>\n          <div className=\"info-main__icon\">\n            <i className=\"icon icon-eye\" />\n          </div>\n        </div>\n        <div className=\"info-main__value\">\n          <TokenPrice\n            tokenAddress={tokenAddress}\n            dollarSeparator=\" \"\n            separator=\" \"\n          />\n        </div>\n      </div>\n      <div className=\"info-main grid-col-4 grid-md-12\">\n        <div className=\"info-main__header\">\n          <div className=\"info-main__title\">APY, %</div>\n          <div className=\"info-main__icon\">\n            <i className=\"icon icon-arrows\" />\n          </div>\n        </div>\n        <div className=\"info-main__value\">\n          <APY tokenAddress={tokenAddress} decimals={2} />\n        </div>\n      </div>\n      <div className=\"info-general grid-col-4 grid-lg-6 grid-md-12\">\n        <div className=\"info-general__header\">\n          <div className=\"info-general__title\">Portfolio</div>\n          <div className=\"info-general__menu\">\n            <div className=\"dropdown\">\n              <a className=\"dropdown__button\" href>\n                <i className=\"icon icon-menu2\" />\n              </a>\n              <div className=\"dropdown__menu\">\n                <a className=\"dropdown__menu-item\" href />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"info-general__content\">\n          <PortfolioPartsGraph tokenAddress={tokenAddress} web3={web3Global} />\n        </div>\n      </div>\n      <div className=\"info-general _wide grid-col-8 grid-lg-6 grid-md-12\">\n        <div className=\"info-general__header\">\n          <div className=\"info-general__title\">Token Price, USD</div>\n          <div className=\"info-general__menu\">\n            <div className=\"dropdown\">\n              <a className=\"dropdown__button\" href>\n                <i className=\"icon icon-menu2\" />\n              </a>\n              <div className=\"dropdown__menu\">\n                <a className=\"dropdown__menu-item\" href />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"info-general__content\">\n          <TokenPriceGraph tokenAddress={tokenAddress} isAdmin={isAdmin} />\n        </div>\n      </div>\n      <div className=\"info-general grid-col-4 grid-lg-6 grid-md-12\">\n        <div className=\"info-general__header\">\n          <div className=\"info-general__title\">Liquidity pools</div>\n        </div>\n        <div className=\"info-general__content\">\n          <PortfolioParts tokenAddress={tokenAddress} web3={web3Global} />\n        </div>\n      </div>\n      <div className=\"info-general _wide grid-col-8 grid-lg-6 grid-md-12\">\n        <div className=\"info-general__header\">\n          <div className=\"info-general__title\">Portfolio Value, USD</div>\n          <div className=\"info-general__menu\">\n            <div className=\"dropdown\">\n              <a className=\"dropdown__button\" href>\n                <i className=\"icon icon-menu2\" />\n              </a>\n              <div className=\"dropdown__menu\">\n                <a className=\"dropdown__menu-item\" href />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"info-general__content\">\n          <TokenAmountGraph tokenAddress={tokenAddress} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TokenDashboard;\n","/Users/dvasin/dev/berezka-web/src/components/Title.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/PortfolioParts.js",[],"/Users/dvasin/dev/berezka-web/src/components/Index.js",[],"/Users/dvasin/dev/berezka-web/src/components/data/admin.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/TokenAmountGraph.js",[],"/Users/dvasin/dev/berezka-web/src/components/Dashboard.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/TokenPrice.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/APY.js",[],"/Users/dvasin/dev/berezka-web/src/components/HeaderTokenBalance.js",[],"/Users/dvasin/dev/berezka-web/src/components/Audit.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/colors.js",[],"/Users/dvasin/dev/berezka-web/src/components/graphClient.js",[],"/Users/dvasin/dev/berezka-web/src/components/HowItWorks.js",[],"/Users/dvasin/dev/berezka-web/src/components/widgets/format.js",[],{"ruleId":"312","severity":1,"message":"313","line":20,"column":23,"nodeType":"314","endLine":20,"endColumn":34},{"ruleId":"315","replacedBy":"316"},{"ruleId":"317","replacedBy":"318"},{"ruleId":"315","replacedBy":"319"},{"ruleId":"317","replacedBy":"320"},{"ruleId":"315","replacedBy":"321"},{"ruleId":"317","replacedBy":"322"},{"ruleId":"315","replacedBy":"323"},{"ruleId":"317","replacedBy":"324"},{"ruleId":"312","severity":1,"message":"325","line":113,"column":6,"nodeType":"326","endLine":113,"endColumn":31,"suggestions":"327"},{"ruleId":"315","replacedBy":"328"},{"ruleId":"317","replacedBy":"329"},{"ruleId":"315","replacedBy":"330"},{"ruleId":"317","replacedBy":"331"},{"ruleId":"332","severity":1,"message":"333","line":35,"column":24,"nodeType":"334","messageId":"335","endLine":35,"endColumn":26},{"ruleId":"332","severity":1,"message":"333","line":83,"column":33,"nodeType":"334","messageId":"335","endLine":83,"endColumn":35},{"ruleId":"312","severity":1,"message":"336","line":92,"column":6,"nodeType":"326","endLine":92,"endColumn":39,"suggestions":"337"},{"ruleId":"312","severity":1,"message":"338","line":34,"column":6,"nodeType":"326","endLine":34,"endColumn":38,"suggestions":"339"},{"ruleId":"315","replacedBy":"340"},{"ruleId":"317","replacedBy":"341"},{"ruleId":"342","severity":1,"message":"343","line":24,"column":50,"nodeType":"344","messageId":"345","endLine":24,"endColumn":51},{"ruleId":"315","replacedBy":"346"},{"ruleId":"317","replacedBy":"347"},{"ruleId":"312","severity":1,"message":"348","line":70,"column":6,"nodeType":"326","endLine":70,"endColumn":20,"suggestions":"349"},{"ruleId":"312","severity":1,"message":"350","line":48,"column":6,"nodeType":"326","endLine":48,"endColumn":35,"suggestions":"351"},{"ruleId":"352","severity":1,"message":"353","line":2,"column":21,"nodeType":"314","messageId":"354","endLine":2,"endColumn":27},{"ruleId":"352","severity":1,"message":"355","line":237,"column":34,"nodeType":"314","messageId":"354","endLine":237,"endColumn":39},{"ruleId":"315","replacedBy":"356"},{"ruleId":"317","replacedBy":"357"},{"ruleId":"358","severity":1,"message":"359","line":25,"column":15,"nodeType":"360","endLine":25,"endColumn":49},{"ruleId":"352","severity":1,"message":"361","line":2,"column":9,"nodeType":"314","messageId":"354","endLine":2,"endColumn":18},{"ruleId":"312","severity":1,"message":"362","line":46,"column":6,"nodeType":"326","endLine":46,"endColumn":8,"suggestions":"363"},{"ruleId":"332","severity":1,"message":"333","line":74,"column":39,"nodeType":"334","messageId":"335","endLine":74,"endColumn":41},{"ruleId":"364","severity":1,"message":"365","line":17,"column":13,"nodeType":"360","endLine":17,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":20,"column":13,"nodeType":"360","endLine":20,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":23,"column":13,"nodeType":"360","endLine":23,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":26,"column":13,"nodeType":"360","endLine":26,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":29,"column":13,"nodeType":"360","endLine":29,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":32,"column":13,"nodeType":"360","endLine":32,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":35,"column":13,"nodeType":"360","endLine":35,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":38,"column":13,"nodeType":"360","endLine":38,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":41,"column":13,"nodeType":"360","endLine":41,"endColumn":80},{"ruleId":"364","severity":1,"message":"365","line":44,"column":13,"nodeType":"360","endLine":44,"endColumn":81},{"ruleId":"364","severity":1,"message":"365","line":47,"column":13,"nodeType":"360","endLine":47,"endColumn":81},{"ruleId":"364","severity":1,"message":"365","line":50,"column":13,"nodeType":"360","endLine":50,"endColumn":81},{"ruleId":"364","severity":1,"message":"365","line":27,"column":11,"nodeType":"360","endLine":27,"endColumn":66},{"ruleId":"364","severity":1,"message":"365","line":42,"column":13,"nodeType":"360","endLine":42,"endColumn":69},{"ruleId":"315","replacedBy":"366"},{"ruleId":"317","replacedBy":"367"},{"ruleId":"352","severity":1,"message":"368","line":68,"column":37,"nodeType":"314","messageId":"354","endLine":68,"endColumn":39},{"ruleId":"352","severity":1,"message":"369","line":79,"column":37,"nodeType":"314","messageId":"354","endLine":79,"endColumn":39},{"ruleId":"352","severity":1,"message":"370","line":89,"column":37,"nodeType":"314","messageId":"354","endLine":89,"endColumn":39},{"ruleId":"315","replacedBy":"371"},{"ruleId":"317","replacedBy":"372"},{"ruleId":"373","severity":1,"message":"374","line":69,"column":17,"nodeType":"360","endLine":69,"endColumn":59},{"ruleId":"373","severity":1,"message":"374","line":87,"column":17,"nodeType":"360","endLine":87,"endColumn":59},{"ruleId":"373","severity":1,"message":"374","line":113,"column":17,"nodeType":"360","endLine":113,"endColumn":59},"react-hooks/exhaustive-deps","React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","Identifier","no-native-reassign",["375"],"no-negated-in-lhs",["376"],["375"],["376"],["375"],["376"],["375"],["376"],"React Hook useEffect has missing dependencies: 'doSetRequestedAmount' and 'requestedAmount'. Either include them or remove the dependency array.","ArrayExpression",["377"],["375"],["376"],["375"],["376"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'address', 'profitAccumulator', 'totalAccumulator', 'totalInvestedAccumulator', and 'totalProfitAccumulator'. Either include them or remove the dependency array.",["378"],"React Hook useEffect has a missing dependency: 'tokenName'. Either include it or remove the dependency array. Mutable values like 'myRef.current' aren't valid dependencies because mutating them doesn't re-render the component.",["379"],["375"],["376"],"no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression",["375"],["376"],"React Hook useEffect has a missing dependency: 'precision'. Either include it or remove the dependency array.",["380"],"React Hook useEffect has a missing dependency: 'web3.eth.Contract'. Either include it or remove the dependency array.",["381"],"no-unused-vars","'tokens' is defined but never used.","unusedVar","'color' is assigned a value but never used.",["375"],["376"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'ftmAmount' is defined but never used.","React Hook useCallback has a missing dependency: 'setGlobalTotal'. Either include it or remove the dependency array.",["382"],"jsx-a11y/alt-text","Invalid alt value for img. Use alt=\"\" for presentational images.",["375"],["376"],"'e1' is assigned a value but never used.","'e2' is assigned a value but never used.","'e3' is assigned a value but never used.",["375"],["376"],"jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","no-global-assign","no-unsafe-negation",{"desc":"383","fix":"384"},{"desc":"385","fix":"386"},{"desc":"387","fix":"388"},{"desc":"389","fix":"390"},{"desc":"391","fix":"392"},{"desc":"393","fix":"394"},"Update the dependencies array to be: [doSetRequestedAmount, loading, requestedAmount, requestedToken]",{"range":"395","text":"396"},"Update the dependencies array to be: [profit, portfolioPrice, iAmount, profitAccumulator, address, totalAccumulator, totalProfitAccumulator, totalInvestedAccumulator]",{"range":"397","text":"398"},"Update the dependencies array to be: [location, myRef, tokenName]",{"range":"399","text":"400"},"Update the dependencies array to be: [precision, tokenAddress]",{"range":"401","text":"402"},"Update the dependencies array to be: [walletAddress, tokenAddress, web3.eth.Contract]",{"range":"403","text":"404"},"Update the dependencies array to be: [setGlobalTotal]",{"range":"405","text":"406"},[2519,2544],"[doSetRequestedAmount, loading, requestedAmount, requestedToken]",[2402,2435],"[profit, portfolioPrice, iAmount, profitAccumulator, address, totalAccumulator, totalProfitAccumulator, totalInvestedAccumulator]",[999,1031],"[location, myRef, tokenName]",[1843,1857],"[precision, tokenAddress]",[1164,1193],"[walletAddress, tokenAddress, web3.eth.Contract]",[1139,1141],"[setGlobalTotal]"]